<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Overview · Surrogates.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script data-main="assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This is an old version of the documentation. <br> <a href="' + href + '">Go to the newest version</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><nav class="toc"><h1>Surrogates.jl</h1><select id="version-selector" onchange="window.location.href=this.value" style="visibility: hidden"></select><form action="search/" class="search" id="search-form"><input id="search-query" name="q" placeholder="Search docs" type="text"/></form><ul><li class="current"><a class="toctext" href="">Overview</a><ul class="internal"><li><a class="toctext" href="#Multi-output-Surrogates-1">Multi-output Surrogates</a></li><li><a class="toctext" href="#Gradients-1">Gradients</a></li><li class="toplevel"><a class="toctext" href="#Installation-1">Installation</a></li><li class="toplevel"><a class="toctext" href="#Quick-example-1">Quick example</a></li></ul></li><li><span class="toctext">User guide</span><ul><li><a class="toctext" href="samples/">Samples</a></li><li><a class="toctext" href="surrogate/">Surrogates</a></li><li><a class="toctext" href="optimizations/">Optimization</a></li></ul></li><li><span class="toctext">Tutorials</span><ul><li><a class="toctext" href="tutorials/">Basics</a></li><li><a class="toctext" href="stheno/">Custom Kriging with Stheno</a></li></ul></li><li><a class="toctext" href="contributing/">Contributing</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="">Overview</a></li></ul><a class="edit-page" href="https://github.com/JuliaDiffEq/Surrogates.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Overview</span><a class="fa fa-bars" href="#"></a></div></header><p><img alt="SurrogatesLogo" src="images/Surrogates.png"/></p><h1><a class="nav-anchor" href="#Overview-1" id="Overview-1">Overview</a></h1><p>A surrogate model is an approximation method that mimics the behavior of a computationally expensive simulation. In more mathematical terms: suppose we are attempting to optimize a function <span>$\; f(p)$</span>, but each calculation of <span>$\; f$</span> is very expensive. It may be the case we need to solve a PDE for each point or use advanced numerical linear algebra machinery which is usually costly. The idea is then to develop a surrogate model <span>$\; g$</span> which approximates <span>$\; f$</span> by training on previous data collected from evaluations of <span>$\; f$</span>. The construction of a surrogate model can be seen as a three steps process:</p><ul><li>Sample selection</li><li>Construction of the surrogate model</li><li>Surrogate optimization</li></ul><p>The sampling methods are super important for the behaviour of the Surrogate. At the moment they are:</p><ul><li>Grid sample</li><li>Uniform sample</li><li>Sobol sample</li><li>Latin Hypercupe sample</li><li>Low discrepancy sample</li></ul><p>The available surrogates are:</p><ul><li>Linear</li><li>Radial Basis</li><li>Kriging</li><li>Custom Kriging provided with Stheno</li><li>Neural Network</li><li>Support Vector Machine</li><li>Random Forest</li><li>Second Order Polynomial</li><li>Inverse Distance</li></ul><p>After the surrogate is built, we need to optimize it with respect to some objective function. That is, simultaneously looking for a minimum <strong>and</strong> sampling the most unknown region.   The available optimization methods are:</p><ul><li>Stochastic RBF (SRBF)</li><li>Lower confidence bound strategy (LCBS)</li><li>Expected improvement (EI)</li><li>Dynamic coordinate search (DYCORS)</li></ul><h2><a class="nav-anchor" href="#Multi-output-Surrogates-1" id="Multi-output-Surrogates-1">Multi-output Surrogates</a></h2><p>In certain situations, the function being modeled may have a multi-dimensional output space. In such a case, the surrogate models can take advantage of correlations between the observed output variables to obtain more accurate predictions.</p><p>When constructing the original surrogate, each element of the passed <code>y</code> vector should itself be a vector. For example, the following <code>y</code> are all valid.</p><pre><code class="language-none">using Surrogates
using StaticArrays

x = sample(5, [0.0; 0.0], [1.0; 1.0], SobolSample())
f_static = (x) -&gt; StaticVector(x[1], log(x[2]*x[1]))
f = (x) -&gt; [x, log(x)/2]

y = f_static.(x)
y = f.(x)</code></pre><p>Currently, the following are implemented as multi-output surrogates:</p><ul><li>Radial Basis</li><li>Neural Network (via Flux)</li><li>Second Order Polynomial</li><li>Inverse Distance</li><li>Custom Kriging (via Stheno)</li></ul><h2><a class="nav-anchor" href="#Gradients-1" id="Gradients-1">Gradients</a></h2><p>The surrogates implemented here are all automatically differentiable via Zygote. Because of this property, surrogates are useful models for processes which aren't explicitly differentiable, and can be used as layers in, for instance, Flux models.</p><h1><a class="nav-anchor" href="#Installation-1" id="Installation-1">Installation</a></h1><p>Surrogates is registered in the Julia General Registry. In the REPL:</p><pre><code class="language-none">]add Surrogates</code></pre><p>You can obtain the current master with:</p><pre><code class="language-none">]add https://github.com/JuliaDiffEq/Surrogates.jl#master</code></pre><h1><a class="nav-anchor" href="#Quick-example-1" id="Quick-example-1">Quick example</a></h1><pre><code class="language-none">using Surrogates
num_samples = 10
lb = 0.0
ub = 10.0

#Sampling
x = Sample(num_samples,lb,ub,SobolSample())
f = x-&gt; log(x)*x^2+x^3
y = f.(x)

#Creating surrogate
my_lobachesky = LobacheskySurrogate(x,y,lb,ub)

#Approximanting value at 5.0
value = my_lobachesky(5.0)

#Adding more data points
surrogate_optimize(f,SRBF(),lb,ub,my_lobachesky,UniformSample())

#New approximation
value = my_lobachesky(5.0)</code></pre><footer><hr/><a class="next" href="samples/"><span class="direction">Next</span><span class="title">Samples</span></a></footer></article></body></HTML>