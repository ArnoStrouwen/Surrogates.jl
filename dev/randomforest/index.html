<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>RandomForestSurrogate · Surrogates.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Surrogates.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="../samples/">Samples</a></li><li><a class="tocitem" href="../surrogate/">Surrogates</a></li><li><a class="tocitem" href="../optimizations/">Optimization</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/">Basics</a></li><li class="is-active"><a class="tocitem" href>RandomForestSurrogate</a><ul class="internal"><li><a class="tocitem" href="#Random-forests-surrogate-tutorial-1"><span>Random forests surrogate tutorial</span></a></li></ul></li><li><a class="tocitem" href="../radials/">Radials</a></li><li><a class="tocitem" href="../kriging/">Kriging</a></li></ul></li><li><a class="tocitem" href="../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>RandomForestSurrogate</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>RandomForestSurrogate</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/SciML/Surrogates.jl/blob/master/docs/src/randomforest.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Random-forests-surrogate-tutorial-1"><a class="docs-heading-anchor" href="#Random-forests-surrogate-tutorial-1">Random forests surrogate tutorial</a><a class="docs-heading-anchor-permalink" href="#Random-forests-surrogate-tutorial-1" title="Permalink"></a></h2><p>Random forests is a supervised learning algorithm that randomly creates and merges multiple decision trees into one forest.</p><p>We are going to use a Random forests surrogate to optimize <span>$f(x)=3*x+1$</span>.</p><p>First of all import <code>Surrogates</code> and <code>Plots</code>.</p><pre><code class="language-julia">using Surrogates
using Plots</code></pre><h3 id="Sampling-1"><a class="docs-heading-anchor" href="#Sampling-1">Sampling</a><a class="docs-heading-anchor-permalink" href="#Sampling-1" title="Permalink"></a></h3><p>We choose to sample f in 4 points between 0 and 1 using the <code>sample</code> function. The sampling points are chosen using a Sobol sequence, this can be done by passing <code>SobolSample()</code> to the <code>sample</code> function.</p><pre><code class="language-julia">f(x) = 3 * x + 1
n_samples = 5
lower_bound = 0.0
upper_bound = 10.0
x = sample(n_samples, lower_bound, upper_bound, SobolSample())
y = f.(x)
scatter(x, y, label=&quot;Sampled points&quot;, xlims=(lower_bound, upper_bound))
plot!(f, label=&quot;True function&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip780">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip780)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip781">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip780)" d="
M102.74 1505.26 L2352.76 1505.26 L2352.76 47.2441 L102.74 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip782">
    <rect x="102" y="47" width="2251" height="1459"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  102.74,1505.26 102.74,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  552.743,1505.26 552.743,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1002.75,1505.26 1002.75,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1452.75,1505.26 1452.75,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1902.75,1505.26 1902.75,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2352.76,1505.26 2352.76,47.2441 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  102.74,1330.61 2352.76,1330.61 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  102.74,997.163 2352.76,997.163 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  102.74,663.712 2352.76,663.712 
  "/>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  102.74,330.261 2352.76,330.261 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,1505.26 2352.76,1505.26 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,1505.26 102.74,47.2441 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,1505.26 102.74,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  552.743,1505.26 552.743,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1002.75,1505.26 1002.75,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1452.75,1505.26 1452.75,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1902.75,1505.26 1902.75,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2352.76,1505.26 2352.76,1487.76 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,1330.61 129.74,1330.61 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,997.163 129.74,997.163 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,663.712 129.74,663.712 
  "/>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  102.74,330.261 129.74,330.261 
  "/>
<path clip-path="url(#clip780)" d="M 0 0 M102.74 1527.25 Q99.1291 1527.25 97.3004 1530.82 Q95.4948 1534.36 95.4948 1541.49 Q95.4948 1548.59 97.3004 1552.16 Q99.1291 1555.7 102.74 1555.7 Q106.374 1555.7 108.18 1552.16 Q110.009 1548.59 110.009 1541.49 Q110.009 1534.36 108.18 1530.82 Q106.374 1527.25 102.74 1527.25 M102.74 1523.55 Q108.55 1523.55 111.606 1528.15 Q114.685 1532.74 114.685 1541.49 Q114.685 1550.21 111.606 1554.82 Q108.55 1559.4 102.74 1559.4 Q96.93 1559.4 93.8513 1554.82 Q90.7958 1550.21 90.7958 1541.49 Q90.7958 1532.74 93.8513 1528.15 Q96.93 1523.55 102.74 1523.55 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M547.396 1554.8 L563.715 1554.8 L563.715 1558.73 L541.771 1558.73 L541.771 1554.8 Q544.433 1552.04 549.016 1547.41 Q553.623 1542.76 554.803 1541.42 Q557.049 1538.89 557.928 1537.16 Q558.831 1535.4 558.831 1533.71 Q558.831 1530.95 556.887 1529.22 Q554.966 1527.48 551.864 1527.48 Q549.665 1527.48 547.211 1528.25 Q544.78 1529.01 542.003 1530.56 L542.003 1525.84 Q544.827 1524.7 547.28 1524.13 Q549.734 1523.55 551.771 1523.55 Q557.141 1523.55 560.336 1526.23 Q563.53 1528.92 563.53 1533.41 Q563.53 1535.54 562.72 1537.46 Q561.933 1539.36 559.827 1541.95 Q559.248 1542.62 556.146 1545.84 Q553.044 1549.03 547.396 1554.8 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M1005.76 1528.25 L993.95 1546.69 L1005.76 1546.69 L1005.76 1528.25 M1004.53 1524.17 L1010.41 1524.17 L1010.41 1546.69 L1015.34 1546.69 L1015.34 1550.58 L1010.41 1550.58 L1010.41 1558.73 L1005.76 1558.73 L1005.76 1550.58 L990.154 1550.58 L990.154 1546.07 L1004.53 1524.17 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M1453.15 1539.59 Q1450.01 1539.59 1448.15 1541.74 Q1446.33 1543.89 1446.33 1547.64 Q1446.33 1551.37 1448.15 1553.55 Q1450.01 1555.7 1453.15 1555.7 Q1456.3 1555.7 1458.13 1553.55 Q1459.98 1551.37 1459.98 1547.64 Q1459.98 1543.89 1458.13 1541.74 Q1456.3 1539.59 1453.15 1539.59 M1462.44 1524.94 L1462.44 1529.19 Q1460.68 1528.36 1458.87 1527.92 Q1457.09 1527.48 1455.33 1527.48 Q1450.7 1527.48 1448.25 1530.61 Q1445.82 1533.73 1445.47 1540.05 Q1446.84 1538.04 1448.9 1536.97 Q1450.96 1535.88 1453.43 1535.88 Q1458.64 1535.88 1461.65 1539.06 Q1464.68 1542.2 1464.68 1547.64 Q1464.68 1552.97 1461.53 1556.19 Q1458.39 1559.4 1453.15 1559.4 Q1447.16 1559.4 1443.99 1554.82 Q1440.82 1550.21 1440.82 1541.49 Q1440.82 1533.29 1444.71 1528.43 Q1448.59 1523.55 1455.15 1523.55 Q1456.9 1523.55 1458.69 1523.89 Q1460.49 1524.24 1462.44 1524.94 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M1902.75 1542.32 Q1899.42 1542.32 1897.5 1544.1 Q1895.6 1545.88 1895.6 1549.01 Q1895.6 1552.13 1897.5 1553.92 Q1899.42 1555.7 1902.75 1555.7 Q1906.09 1555.7 1908.01 1553.92 Q1909.93 1552.11 1909.93 1549.01 Q1909.93 1545.88 1908.01 1544.1 Q1906.11 1542.32 1902.75 1542.32 M1898.08 1540.33 Q1895.07 1539.59 1893.38 1537.53 Q1891.71 1535.47 1891.71 1532.51 Q1891.71 1528.36 1894.65 1525.95 Q1897.61 1523.55 1902.75 1523.55 Q1907.91 1523.55 1910.85 1525.95 Q1913.79 1528.36 1913.79 1532.51 Q1913.79 1535.47 1912.1 1537.53 Q1910.44 1539.59 1907.45 1540.33 Q1910.83 1541.12 1912.71 1543.41 Q1914.6 1545.7 1914.6 1549.01 Q1914.6 1554.03 1911.53 1556.72 Q1908.47 1559.4 1902.75 1559.4 Q1897.04 1559.4 1893.96 1556.72 Q1890.9 1554.03 1890.9 1549.01 Q1890.9 1545.7 1892.8 1543.41 Q1894.7 1541.12 1898.08 1540.33 M1896.36 1532.94 Q1896.36 1535.63 1898.03 1537.13 Q1899.72 1538.64 1902.75 1538.64 Q1905.76 1538.64 1907.45 1537.13 Q1909.16 1535.63 1909.16 1532.94 Q1909.16 1530.26 1907.45 1528.76 Q1905.76 1527.25 1902.75 1527.25 Q1899.72 1527.25 1898.03 1528.76 Q1896.36 1530.26 1896.36 1532.94 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M2329.63 1554.8 L2337.27 1554.8 L2337.27 1528.43 L2328.96 1530.1 L2328.96 1525.84 L2337.22 1524.17 L2341.9 1524.17 L2341.9 1554.8 L2349.54 1554.8 L2349.54 1558.73 L2329.63 1558.73 L2329.63 1554.8 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M2364.61 1527.25 Q2361 1527.25 2359.17 1530.82 Q2357.36 1534.36 2357.36 1541.49 Q2357.36 1548.59 2359.17 1552.16 Q2361 1555.7 2364.61 1555.7 Q2368.24 1555.7 2370.05 1552.16 Q2371.88 1548.59 2371.88 1541.49 Q2371.88 1534.36 2370.05 1530.82 Q2368.24 1527.25 2364.61 1527.25 M2364.61 1523.55 Q2370.42 1523.55 2373.47 1528.15 Q2376.55 1532.74 2376.55 1541.49 Q2376.55 1550.21 2373.47 1554.82 Q2370.42 1559.4 2364.61 1559.4 Q2358.8 1559.4 2355.72 1554.82 Q2352.66 1550.21 2352.66 1541.49 Q2352.66 1532.74 2355.72 1528.15 Q2358.8 1523.55 2364.61 1523.55 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M13.4627 1333.01 L25.9395 1333.01 L25.9395 1336.81 L13.4627 1336.81 L13.4627 1333.01 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M31.8191 1343.96 L39.458 1343.96 L39.458 1317.59 L31.1478 1319.26 L31.1478 1315 L39.4117 1313.33 L44.0876 1313.33 L44.0876 1343.96 L51.7264 1343.96 L51.7264 1347.89 L31.8191 1347.89 L31.8191 1343.96 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M66.7958 1316.41 Q63.1847 1316.41 61.356 1319.98 Q59.5504 1323.52 59.5504 1330.65 Q59.5504 1337.76 61.356 1341.32 Q63.1847 1344.86 66.7958 1344.86 Q70.43 1344.86 72.2356 1341.32 Q74.0643 1337.76 74.0643 1330.65 Q74.0643 1323.52 72.2356 1319.98 Q70.43 1316.41 66.7958 1316.41 M66.7958 1312.71 Q72.6059 1312.71 75.6615 1317.32 Q78.7402 1321.9 78.7402 1330.65 Q78.7402 1339.38 75.6615 1343.98 Q72.6059 1348.57 66.7958 1348.57 Q60.9856 1348.57 57.9069 1343.98 Q54.8514 1339.38 54.8514 1330.65 Q54.8514 1321.9 57.9069 1317.32 Q60.9856 1312.71 66.7958 1312.71 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M66.7958 982.962 Q63.1847 982.962 61.356 986.527 Q59.5504 990.069 59.5504 997.198 Q59.5504 1004.3 61.356 1007.87 Q63.1847 1011.41 66.7958 1011.41 Q70.43 1011.41 72.2356 1007.87 Q74.0643 1004.3 74.0643 997.198 Q74.0643 990.069 72.2356 986.527 Q70.43 982.962 66.7958 982.962 M66.7958 979.258 Q72.6059 979.258 75.6615 983.865 Q78.7402 988.448 78.7402 997.198 Q78.7402 1005.92 75.6615 1010.53 Q72.6059 1015.11 66.7958 1015.11 Q60.9856 1015.11 57.9069 1010.53 Q54.8514 1005.92 54.8514 997.198 Q54.8514 988.448 57.9069 983.865 Q60.9856 979.258 66.7958 979.258 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M31.8191 677.057 L39.458 677.057 L39.458 650.691 L31.1478 652.358 L31.1478 648.099 L39.4117 646.432 L44.0876 646.432 L44.0876 677.057 L51.7264 677.057 L51.7264 680.992 L31.8191 680.992 L31.8191 677.057 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M66.7958 649.511 Q63.1847 649.511 61.356 653.076 Q59.5504 656.617 59.5504 663.747 Q59.5504 670.853 61.356 674.418 Q63.1847 677.96 66.7958 677.96 Q70.43 677.96 72.2356 674.418 Q74.0643 670.853 74.0643 663.747 Q74.0643 656.617 72.2356 653.076 Q70.43 649.511 66.7958 649.511 M66.7958 645.807 Q72.6059 645.807 75.6615 650.414 Q78.7402 654.997 78.7402 663.747 Q78.7402 672.474 75.6615 677.08 Q72.6059 681.663 66.7958 681.663 Q60.9856 681.663 57.9069 677.08 Q54.8514 672.474 54.8514 663.747 Q54.8514 654.997 57.9069 650.414 Q60.9856 645.807 66.7958 645.807 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M35.4071 343.606 L51.7264 343.606 L51.7264 347.541 L29.7821 347.541 L29.7821 343.606 Q32.4441 340.851 37.0274 336.221 Q41.6339 331.569 42.8144 330.226 Q45.0598 327.703 45.9394 325.967 Q46.8422 324.208 46.8422 322.518 Q46.8422 319.763 44.8977 318.027 Q42.9765 316.291 39.8746 316.291 Q37.6756 316.291 35.2219 317.055 Q32.7913 317.819 30.0136 319.37 L30.0136 314.648 Q32.8376 313.513 35.2913 312.935 Q37.745 312.356 39.782 312.356 Q45.1524 312.356 48.3468 315.041 Q51.5412 317.726 51.5412 322.217 Q51.5412 324.347 50.731 326.268 Q49.944 328.166 47.8375 330.759 Q47.2588 331.43 44.157 334.647 Q41.0552 337.842 35.4071 343.606 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M66.7958 316.06 Q63.1847 316.06 61.356 319.624 Q59.5504 323.166 59.5504 330.296 Q59.5504 337.402 61.356 340.967 Q63.1847 344.508 66.7958 344.508 Q70.43 344.508 72.2356 340.967 Q74.0643 337.402 74.0643 330.296 Q74.0643 323.166 72.2356 319.624 Q70.43 316.06 66.7958 316.06 M66.7958 312.356 Q72.6059 312.356 75.6615 316.962 Q78.7402 321.546 78.7402 330.296 Q78.7402 339.022 75.6615 343.629 Q72.6059 348.212 66.7958 348.212 Q60.9856 348.212 57.9069 343.629 Q54.8514 339.022 54.8514 330.296 Q54.8514 321.546 57.9069 316.962 Q60.9856 312.356 66.7958 312.356 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M1244.36 1602.48 L1231.47 1619.82 L1245.03 1638.12 L1238.12 1638.12 L1227.75 1624.12 L1217.37 1638.12 L1210.47 1638.12 L1224.31 1619.47 L1211.64 1602.48 L1218.55 1602.48 L1228 1615.18 L1237.46 1602.48 L1244.36 1602.48 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip780)" d="M 0 0 M-21.4831 774.565 Q-15.1174 777.048 -13.1759 779.403 Q-11.2343 781.758 -11.2343 785.705 L-11.2343 790.384 L-16.1359 790.384 L-16.1359 786.946 Q-16.1359 784.527 -17.2817 783.191 Q-18.4276 781.854 -22.6926 780.231 L-25.3662 779.18 L-60.4412 793.599 L-60.4412 787.392 L-32.5594 776.252 L-60.4412 765.112 L-60.4412 758.905 L-21.4831 774.565 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><circle clip-path="url(#clip782)" cx="2071.5" cy="88.5087" r="14" fill="#fdedb0" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip782)" cx="1509" cy="338.597" r="14" fill="#fdedb0" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip782)" cx="383.992" cy="838.774" r="14" fill="#fdedb0" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip782)" cx="524.618" cy="776.252" r="14" fill="#fdedb0" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<circle clip-path="url(#clip782)" cx="1649.63" cy="276.075" r="14" fill="#fdedb0" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.2"/>
<polyline clip-path="url(#clip782)" style="stroke:#fdedb0; stroke-width:4; stroke-opacity:1; fill:none" points="
  -1022.27,1464 -1000.29,1454.23 -797.12,1363.89 -675.021,1309.61 -571.787,1263.71 -459.647,1213.85 -356.263,1167.89 -245.425,1118.61 -117.008,1061.52 -2.88659,1010.78 
  97.1879,966.287 206.296,917.778 316.052,868.98 437.402,815.028 552.864,763.694 672.917,710.319 773.976,665.388 897.357,610.533 1013.34,558.967 1199.15,476.355 
  1227.75,463.641 
  "/>
</svg>
<h3 id="Building-a-surrogate-1"><a class="docs-heading-anchor" href="#Building-a-surrogate-1">Building a surrogate</a><a class="docs-heading-anchor-permalink" href="#Building-a-surrogate-1" title="Permalink"></a></h3><p>With our sampled points we can build the Random forests surrogate using the <code>RandomForestSurrogate</code> function.</p><p><code>randomforest_surrogate</code> behaves like an ordinary function which we can simply plot. Addtionally you can specify the number of trees created using the parameter num_round</p><pre><code class="language-">num_round = 2
randomforest_surrogate = RandomForestSurrogate(x ,y ,lower_bound, upper_bound, num_round = 20)
plot(x, y, seriestype=:scatter, label=&quot;Sampled points&quot;, xlims=(lower_bound, upper_bound))
plot!(f, label=&quot;True function&quot;)
plot!(randomforest_surrogate, label=&quot;Surrogate function&quot;)</code></pre><h3 id="Optimizing-1"><a class="docs-heading-anchor" href="#Optimizing-1">Optimizing</a><a class="docs-heading-anchor-permalink" href="#Optimizing-1" title="Permalink"></a></h3><p>Having built a surrogate, we can now use it to search for minimas in our original function <code>f</code>.</p><p>To optimize using our surrogate we call <code>surrogate_optimize</code> method. We choose to use Stochastic RBF as optimization technique and again Sobol sampling as sampling technique.</p><pre><code class="language-">@show surrogate_optimize(f, SRBF(), lower_bound, upper_bound, randomforest_surrogate, SobolSample())
scatter(x, y, label=&quot;Sampled points&quot;)
plot!(f, label=&quot;True function&quot;)
plot!(randomforest_surrogate, label=&quot;Surrogate function&quot;)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorials/">« Basics</a><a class="docs-footer-nextpage" href="../radials/">Radials »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 23 June 2020 05:08">Tuesday 23 June 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
